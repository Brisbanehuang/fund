# 基金分析工具

一个使用Python和Streamlit构建的基金分析工具，帮助用户快速分析和管理基金投资。

## 功能特点

- **基金查询**：通过基金代码查询基金详细信息、历史净值走势、业绩表现及风险评估
- **自选基金**：将感兴趣的基金添加到自选列表，方便随时查看和管理
- **基金持仓**：记录和分析您的基金持仓情况，计算投资收益
- **基金比较**：比较多只基金的表现，帮助做出更好的投资决策
- **投资计划**：制定基金定投计划，模拟不同策略的投资收益
- **多页面导航**：应用升级为多页面结构，提供更好的用户体验

## 系统要求

- Python 3.8+
- 依赖包见 `requirements.txt`

## 安装和运行

1. 克隆仓库 (或下载ZIP文件)

```
git clone https://github.com/yourusername/fund-analysis-tool.git
cd fund-analysis-tool
```

2. 安装依赖项

```
pip install -r requirements.txt
```

3. 运行应用

```
streamlit run main.py
```

4. 在浏览器中打开 http://localhost:8501

## Windows用户快速启动

对于Windows用户，提供了方便的批处理文件：

1. 双击 `install_dependencies.bat` 安装所有依赖项
2. 双击 `start.bat` 启动应用程序

## 使用指南

### 1. 基金查询

在"基金查询"页面，输入6位基金代码，然后点击"开始分析"按钮。系统将显示基金的基本信息、历史净值走势图、业绩表现分析和风险评估。

### 2. 自选基金

在基金查询页面分析基金后，可以点击"加入自选"按钮将该基金添加到您的自选列表。在"自选基金"页面可以查看和管理所有自选基金。

点击自选基金卡片上的"查看详情"按钮，可以进入该基金的详情页面，查看完整分析报告。

### 3. 基金比较

在"基金比较"页面，您可以：

- 选择投资区间：可以手动设置开始和结束日期，或使用快捷选项如"近一周"、"近一月"等
- 选择多只基金进行比较：默认提供两个基金输入框，可通过"添加另一个基金进行比较"按钮增加更多基金
- 从自选基金中快速选择：点击"从自选中选择"按钮，可以从已添加的自选基金中选择
- 删除不需要比较的基金：当比较基金数量超过两只时，可以删除部分基金
- 查看收益率对比图表：点击"开始比较"后，系统会在同一图表中展示各基金在选定投资区间的收益率曲线
- 直观对比基金表现：不同基金的收益率曲线使用不同颜色区分，便于直观比较各基金在同一时间段的表现

此功能经过UI优化，提供了更直观的操作界面，输入框与按钮对齐美观，自选基金数据实时加载，让您可以轻松进行多基金性能对比分析，辅助投资决策。

### 4. 基金持仓

在"基金持仓"页面，您可以添加您实际持有的基金及份额，系统会计算当前市值和收益情况。

### 数据缓存

为了提高性能和减少网络请求，系统会缓存已查询的基金数据。缓存文件保存在 `fund_cache` 目录下。

## 隐私说明

所有数据仅保存在本地，不会上传到任何服务器。您的自选基金和持仓信息保存在本地的JSON文件中。

## 常见问题

**Q: 为什么有时获取基金数据会失败？**  
A: 可能是网络连接问题或基金API服务不稳定。请稍后重试。

**Q: 如何清除缓存数据？**  
A: 删除 `fund_cache` 目录下的文件即可。下次使用时系统会重新获取最新数据。

## 版本历史

- v2.1.1 - 优化基金比较页面UI，改进自选基金数据加载，提高用户体验
- v2.1.0 - 实现基金比较功能，支持多基金性能对比
- v2.0.0 - 重构为多页面结构，改善导航体验
- v1.0.0 - 初始版本

## 许可证

MIT License